<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Konami</title>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@700&display=swap" rel="stylesheet">
    <style>

        h1 {
            font-family: 'Roboto Mono', monospace;
            font-size: 40px;
        }

        #video {
            width: 600px;
            height: 600px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
        }

        div {
            font-size: 30px;
            font-family: 'Roboto Mono', monospace;
        }

    </style>
</head>
<body>

    <h1>Konami Code</h1>

    <div id="video">Hello, World!!</div>

<!--    <script src="js/jquery-2.2.4.js"></script>-->
    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
            crossorigin="anonymous"></script>
    <script>
        "use strict";
        (function() {

        var bucket = [];
        var konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a', 'Enter'];
        var count = 0;

        $(document).keyup(function(e){
            console.log(e.key);
            addKey(e.key, konamiCode);
            console.log(count);
            console.log(bucket);
            rickAndRoll();
        });

        // === Function that evaluates the konami code ===

        function addKey(input, arr1) {
            // if (input === arr1) {
            //     bucket.push(input);
            //     // count = count + 1;
            // } else {
            //     bucket = [];
            //     // count = 0;
            // }
            if (input === arr1[count]) {
                bucket.push(input);
                count = count + 1;
            } else {
                bucket = [];
                count = 0;
            }
        }

        // ============ Functions that builds up the Rick Attack ============

        function abcMatch(arr, arr2) {
            return (arr[0] === arr2[0] &&
                    arr[1] === arr2[1] &&
                    arr[2] === arr2[2] &&
                    arr[3] === arr2[3] &&
                    arr[4] === arr2[4]
            );
            // return arr[4] === arr2[4];
        }
        function abcdMatch(arr, arr2) {
            return (arr[0] === arr2[0] &&
                    arr[1] === arr2[1] &&
                    arr[2] === arr2[2] &&
                    arr[3] === arr2[3] &&
                    arr[4] === arr2[4] &&
                    arr[5] === arr2[5] &&
                    arr[6] === arr2[6] &&
                    arr[7] === arr2[7] &&
                    arr[8] === arr2[8]
            );
            // return arr[8] === arr2[8];
        }
        function abcdeMatch(arr, arr2) {
            return (arr[0] === arr2[0] &&
                    arr[1] === arr2[1] &&
                    arr[2] === arr2[2] &&
                    arr[3] === arr2[3] &&
                    arr[4] === arr2[4] &&
                    arr[5] === arr2[5] &&
                    arr[6] === arr2[6] &&
                    arr[7] === arr2[7] &&
                    arr[8] === arr2[8] &&
                    arr[9] === arr2[9]
            );
            // return arr[9] === arr2[9];
        }
        function abcdeEnterMatch(arr, arr2) {
            return (arr[0] === arr2[0] &&
                    arr[1] === arr2[1] &&
                    arr[2] === arr2[2] &&
                    arr[3] === arr2[3] &&
                    arr[4] === arr2[4] &&
                    arr[5] === arr2[5] &&
                    arr[6] === arr2[6] &&
                    arr[7] === arr2[7] &&
                    arr[8] === arr2[8] &&
                    arr[9] === arr2[9] &&
                    arr[10] === arr2[10]
            );
            // var num = 0;
            // if (arr.length === arr2.length) {
            //     for (var i = 0; i < arr.length; i++) {
            //         if (arr[i] === arr2[i]) {
            //             num = num + 1;
            //         }
            //     }
            // }
            // return num === arr.length;
        }
        // console.log(abcdeEnterMatch(['a', 'b', 'c', 'e', 'f', 'g'], ['a', 'b', 'c', 'e', 'f', 'g']));

        // =========== Function that executes the Rick Attack ===========

        function rickAndRoll() {
            if (abcMatch(bucket, konamiCode)) {
                $('#video').html('Wait.....').css('font-size', '30px');
            }
            if (abcdMatch(bucket, konamiCode)) {
                $('#video').html('Wait.....what are doing??').css('font-size', '30px');
            }
            if (abcdeMatch(bucket, konamiCode)) {
                $('#video').html('NOOOOOOOOOOOOOOOO!!!!!!!<br>DO NOT HIT ENTER!!!').css({
                    'font-size': '30px',
                    'font-weight': 'bold'
                });
            }
            if (abcdeEnterMatch(bucket, konamiCode)) {
                $('body').css({
                    'background-image': 'url("img/retro.gif")',
                    'background-size': '100% 1000px'
                });
                $('h1').css({
                    'text-align': 'center',
                    'font-size': '50px',
                    'font-family': '"Monoton", cursive',
                    'color': '#f763f9'
                });
                $('#video').html('<iframe width="600px" height="600px" src="https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&amp;start=1&autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');
            }
        }
        })();

    </script>

</body>
</html>